module.exports=[89762,49391,20206,a=>{"use strict";var b=a.i(44373),c=a.i(45287),d=a.i(2780);let e=c.State.for2d();class f{start(a,b,c){let d=a.renderer,f=d.encoder,g=c.gpuProgram;this._shader=c,this._geometry=b,f.setGeometry(b,g),e.blendMode="normal",d.pipeline.getPipeline(b,g,e);let h=d.globalUniforms.bindGroup;f.resetBindGroup(1),f.setBindGroup(0,h,g)}execute(a,b){let c=this._shader.gpuProgram,f=a.renderer,g=f.encoder;if(!b.bindGroup){let a=b.textures;b.bindGroup=(0,d.getTextureBatchBindGroup)(a.textures,a.count,f.limits.maxBatchableTextures)}e.blendMode=b.blendMode;let h=f.bindGroup.getBindGroup(b.bindGroup,c,1),i=f.pipeline.getPipeline(this._geometry,c,e,b.topology);b.bindGroup._touch(f.gc.now,f.tick),g.setPipeline(i),g.renderPassEncoder.setBindGroup(1,h),g.renderPassEncoder.drawIndexed(b.size,1,b.start)}}f.extension={type:[b.ExtensionType.WebGPUPipesAdaptor],name:"batch"},a.s(["GpuBatchAdaptor",()=>f],89762);class g{constructor(a){this._hash=Object.create(null),this._renderer=a}contextChange(a){this._gpu=a}getBindGroup(a,b,c){return a._updateKey(),this._hash[a._key]||this._createBindGroup(a,b,c)}_createBindGroup(a,b,c){let d=this._gpu.device,e=b.layout[c],f=[],g=this._renderer;for(let b in e){let c,d=a.resources[b]??a.resources[e[b]];if("uniformGroup"===d._resourceType){g.ubo.updateUniformGroup(d);let a=d.buffer;c={buffer:g.buffer.getGPUBuffer(a),offset:0,size:a.descriptor.size}}else"buffer"===d._resourceType?c={buffer:g.buffer.getGPUBuffer(d),offset:0,size:d.descriptor.size}:"bufferResource"===d._resourceType?c={buffer:g.buffer.getGPUBuffer(d.buffer),offset:d.offset,size:d.size}:"textureSampler"===d._resourceType?c=g.texture.getGpuSampler(d):"textureSource"===d._resourceType&&(c=g.texture.getGpuSource(d).createView());f.push({binding:e[b],resource:c})}let h=g.shader.getProgramData(b).bindGroups[c],i=d.createBindGroup({layout:h,entries:f});return this._hash[a._key]=i,i}destroy(){this._hash=null,this._renderer=null}}g.extension={type:[b.ExtensionType.WebGPUSystem],name:"bindGroup"},a.s(["BindGroupSystem",()=>g],49391);var h=a.i(46629),i=a.i(90423),j=a.i(21655);class k{constructor(a){this.gpuBuffer=a}destroy(){this.gpuBuffer.destroy(),this.gpuBuffer=null}}class l{constructor(a){this._renderer=a,this._managedBuffers=new h.GCManagedHash({renderer:a,type:"resource",onUnload:this.onBufferUnload.bind(this),name:"gpuBuffer"})}contextChange(a){this._gpu=a}getGPUBuffer(a){return a._gcLastUsed=this._renderer.gc.now,a._gpuData[this._renderer.uid]?.gpuBuffer||this.createGPUBuffer(a)}updateBuffer(a){let b=this.getGPUBuffer(a),c=a.data;return a._updateID&&c&&(a._updateID=0,this._gpu.device.queue.writeBuffer(b,0,c.buffer,0,(a._updateSize||c.byteLength)+3&-4)),b}destroyAll(){this._managedBuffers.removeAll()}onBufferUnload(a){a.off("update",this.updateBuffer,this),a.off("change",this.onBufferChange,this)}createGPUBuffer(a){let b=this._gpu.device.createBuffer(a.descriptor);return a._updateID=0,a._resourceId=(0,i.uid)("resource"),a.data&&((0,j.fastCopy)(a.data.buffer,b.getMappedRange()),b.unmap()),a._gpuData[this._renderer.uid]=new k(b),this._managedBuffers.add(a)&&(a.on("update",this.updateBuffer,this),a.on("change",this.onBufferChange,this)),b}onBufferChange(a){this._managedBuffers.remove(a),a._updateID=0,this.createGPUBuffer(a)}destroy(){this._managedBuffers.destroy(),this._renderer=null,this._gpu=null}}l.extension={type:[b.ExtensionType.WebGPUSystem],name:"buffer"},a.s(["GpuBufferData",()=>k,"GpuBufferSystem",()=>l],20206)},45582,a=>{"use strict";class b{constructor({minUniformOffsetAlignment:a}){this._minUniformOffsetAlignment=256,this.byteIndex=0,this._minUniformOffsetAlignment=a,this.data=new Float32Array(65535)}clear(){this.byteIndex=0}addEmptyGroup(a){if(a>this._minUniformOffsetAlignment/4)throw Error(`UniformBufferBatch: array is too large: ${4*a}`);let b=this.byteIndex,c=b+4*a;if((c=Math.ceil(c/this._minUniformOffsetAlignment)*this._minUniformOffsetAlignment)>4*this.data.length)throw Error("UniformBufferBatch: ubo batch got too big");return this.byteIndex=c,b}addGroup(a){let b=this.addEmptyGroup(a.length);for(let c=0;c<a.length;c++)this.data[b/4+c]=a[c];return b}destroy(){this.data=null}}a.s(["UboBatch",()=>b])},66765,50389,3775,40973,2487,24271,24962,32746,17094,a=>{"use strict";var b=a.i(44373);class c{constructor(a){this._colorMaskCache=15,this._renderer=a}setMask(a){this._colorMaskCache!==a&&(this._colorMaskCache=a,this._renderer.pipeline.setColorMask(a))}destroy(){this._renderer=null,this._colorMaskCache=null}}c.extension={type:[b.ExtensionType.WebGPUSystem],name:"colorMask"},a.s(["GpuColorMaskSystem",()=>c],66765);var d=a.i(58422);class e{constructor(a){this._renderer=a}async init(a){return this._initPromise||(this._initPromise=(a.gpu?Promise.resolve(a.gpu):this._createDeviceAndAdaptor(a)).then(a=>{this.gpu=a,this._renderer.runners.contextChange.emit(this.gpu)})),this._initPromise}contextChange(a){this._renderer.gpu=a}async _createDeviceAndAdaptor(a){let b=await d.DOMAdapter.get().getNavigator().gpu.requestAdapter({powerPreference:a.powerPreference,forceFallbackAdapter:a.forceFallbackAdapter}),c=["texture-compression-bc","texture-compression-astc","texture-compression-etc2"].filter(a=>b.features.has(a)),e=await b.requestDevice({requiredFeatures:c});return{adapter:b,device:e}}destroy(){this.gpu=null,this._renderer=null}}e.extension={type:[b.ExtensionType.WebGPUSystem],name:"device"},e.defaultOptions={powerPreference:void 0,forceFallbackAdapter:!1},a.s(["GpuDeviceSystem",()=>e],50389);class f{constructor(a){this._boundBindGroup=Object.create(null),this._boundVertexBuffer=Object.create(null),this._renderer=a}renderStart(){this.commandFinished=new Promise(a=>{this._resolveCommandFinished=a}),this.commandEncoder=this._renderer.gpu.device.createCommandEncoder()}beginRenderPass(a){this.endRenderPass(),this._clearCache(),this.renderPassEncoder=this.commandEncoder.beginRenderPass(a.descriptor)}endRenderPass(){this.renderPassEncoder&&this.renderPassEncoder.end(),this.renderPassEncoder=null}setViewport(a){this.renderPassEncoder.setViewport(a.x,a.y,a.width,a.height,0,1)}setPipelineFromGeometryProgramAndState(a,b,c,d){let e=this._renderer.pipeline.getPipeline(a,b,c,d);this.setPipeline(e)}setPipeline(a){this._boundPipeline!==a&&(this._boundPipeline=a,this.renderPassEncoder.setPipeline(a))}_setVertexBuffer(a,b){this._boundVertexBuffer[a]!==b&&(this._boundVertexBuffer[a]=b,this.renderPassEncoder.setVertexBuffer(a,this._renderer.buffer.updateBuffer(b)))}_setIndexBuffer(a){if(this._boundIndexBuffer===a)return;this._boundIndexBuffer=a;let b=2===a.data.BYTES_PER_ELEMENT?"uint16":"uint32";this.renderPassEncoder.setIndexBuffer(this._renderer.buffer.updateBuffer(a),b)}resetBindGroup(a){this._boundBindGroup[a]=null}setBindGroup(a,b,c){if(this._boundBindGroup[a]===b)return;this._boundBindGroup[a]=b,b._touch(this._renderer.gc.now,this._renderer.tick);let d=this._renderer.bindGroup.getBindGroup(b,c,a);this.renderPassEncoder.setBindGroup(a,d)}setGeometry(a,b){let c=this._renderer.pipeline.getBufferNamesToBind(a,b);for(let b in c)this._setVertexBuffer(parseInt(b,10),a.attributes[c[b]].buffer);a.indexBuffer&&this._setIndexBuffer(a.indexBuffer)}_setShaderBindGroups(a,b){for(let c in a.groups){let d=a.groups[c];b||this._syncBindGroup(d),this.setBindGroup(c,d,a.gpuProgram)}}_syncBindGroup(a){for(let b in a.resources){let c=a.resources[b];c.isUniformGroup&&this._renderer.ubo.updateUniformGroup(c)}}draw(a){let{geometry:b,shader:c,state:d,topology:e,size:f,start:g,instanceCount:h,skipSync:i}=a;this.setPipelineFromGeometryProgramAndState(b,c.gpuProgram,d,e),this.setGeometry(b,c.gpuProgram),this._setShaderBindGroups(c,i),b.indexBuffer?this.renderPassEncoder.drawIndexed(f||b.indexBuffer.data.length,h??b.instanceCount,g||0):this.renderPassEncoder.draw(f||b.getSize(),h??b.instanceCount,g||0)}finishRenderPass(){this.renderPassEncoder&&(this.renderPassEncoder.end(),this.renderPassEncoder=null)}postrender(){this.finishRenderPass(),this._gpu.device.queue.submit([this.commandEncoder.finish()]),this._resolveCommandFinished(),this.commandEncoder=null}restoreRenderPass(){let a=this._renderer.renderTarget.adaptor.getDescriptor(this._renderer.renderTarget.renderTarget,!1,[0,0,0,1]);this.renderPassEncoder=this.commandEncoder.beginRenderPass(a);let b=this._boundPipeline,c={...this._boundVertexBuffer},d=this._boundIndexBuffer,e={...this._boundBindGroup};this._clearCache();let f=this._renderer.renderTarget.viewport;for(let a in this.renderPassEncoder.setViewport(f.x,f.y,f.width,f.height,0,1),this.setPipeline(b),c)this._setVertexBuffer(a,c[a]);for(let a in e)this.setBindGroup(a,e[a],null);this._setIndexBuffer(d)}_clearCache(){for(let a=0;a<16;a++)this._boundBindGroup[a]=null,this._boundVertexBuffer[a]=null;this._boundIndexBuffer=null,this._boundPipeline=null}destroy(){this._renderer=null,this._gpu=null,this._boundBindGroup=null,this._boundVertexBuffer=null,this._boundIndexBuffer=null,this._boundPipeline=null}contextChange(a){this._gpu=a}}f.extension={type:[b.ExtensionType.WebGPUSystem],name:"encoder",priority:1},a.s(["GpuEncoderSystem",()=>f],3775);class g{constructor(a){this._renderer=a}contextChange(){this.maxTextures=this._renderer.device.gpu.device.limits.maxSampledTexturesPerShaderStage,this.maxBatchableTextures=this.maxTextures}destroy(){}}g.extension={type:[b.ExtensionType.WebGPUSystem],name:"limits"},a.s(["GpuLimitsSystem",()=>g],40973);var h=a.i(35990);class i{constructor(a){this._renderTargetStencilState=Object.create(null),this._renderer=a,a.renderTarget.onRenderTargetChange.add(this)}onRenderTargetChange(a){let b=this._renderTargetStencilState[a.uid];b||(b=this._renderTargetStencilState[a.uid]={stencilMode:h.STENCIL_MODES.DISABLED,stencilReference:0}),this._activeRenderTarget=a,this.setStencilMode(b.stencilMode,b.stencilReference)}setStencilMode(a,b){let c=this._renderTargetStencilState[this._activeRenderTarget.uid];c.stencilMode=a,c.stencilReference=b;let d=this._renderer;d.pipeline.setStencilMode(a),d.encoder.renderPassEncoder.setStencilReference(b)}destroy(){this._renderer.renderTarget.onRenderTargetChange.remove(this),this._renderer=null,this._activeRenderTarget=null,this._renderTargetStencilState=null}}i.extension={type:[b.ExtensionType.WebGPUSystem],name:"stencil"},a.s(["GpuStencilSystem",()=>i],2487);var j=a.i(55164);let k={i32:{align:4,size:4},u32:{align:4,size:4},f32:{align:4,size:4},f16:{align:2,size:2},"vec2<i32>":{align:8,size:8},"vec2<u32>":{align:8,size:8},"vec2<f32>":{align:8,size:8},"vec2<f16>":{align:4,size:4},"vec3<i32>":{align:16,size:12},"vec3<u32>":{align:16,size:12},"vec3<f32>":{align:16,size:12},"vec3<f16>":{align:8,size:6},"vec4<i32>":{align:16,size:16},"vec4<u32>":{align:16,size:16},"vec4<f32>":{align:16,size:16},"vec4<f16>":{align:8,size:8},"mat2x2<f32>":{align:8,size:16},"mat2x2<f16>":{align:4,size:8},"mat3x2<f32>":{align:8,size:24},"mat3x2<f16>":{align:4,size:12},"mat4x2<f32>":{align:8,size:32},"mat4x2<f16>":{align:4,size:16},"mat2x3<f32>":{align:16,size:32},"mat2x3<f16>":{align:8,size:16},"mat3x3<f32>":{align:16,size:48},"mat3x3<f16>":{align:8,size:24},"mat4x3<f32>":{align:16,size:64},"mat4x3<f16>":{align:8,size:32},"mat2x4<f32>":{align:16,size:32},"mat2x4<f16>":{align:8,size:16},"mat3x4<f32>":{align:16,size:48},"mat3x4<f16>":{align:8,size:24},"mat4x4<f32>":{align:16,size:64},"mat4x4<f16>":{align:8,size:32}};function l(a){let b=a.map(a=>({data:a,offset:0,size:0})),c=0;for(let a=0;a<b.length;a++){let d=b[a],e=k[d.data.type].size,f=k[d.data.type].align;if(!k[d.data.type])throw Error(`[Pixi.js] WebGPU UniformBuffer: Unknown type ${d.data.type}`);d.data.size>1&&(e=Math.max(e,f)*d.data.size),c=Math.ceil(c/f)*f,d.size=e,d.offset=c,c+=e}return{uboElements:b,size:c=16*Math.ceil(c/16)}}a.s(["WGSL_ALIGN_SIZE_DATA",()=>k,"createUboElementsWGSL",()=>l],24271);var m=a.i(1527),n=a.i(37630);function o(a,b){let{size:c,align:d}=k[a.data.type],e=(d-c)/4,f=a.data.type.indexOf("i32")>=0?"dataInt32":"data";return`
         v = uv.${a.data.name};
         ${0!==b?`offset += ${b};`:""}

         arrayOffset = offset;

         t = 0;

         for(var i=0; i < ${a.data.size*(c/4)}; i++)
         {
             for(var j = 0; j < ${c/4}; j++)
             {
                 ${f}[arrayOffset++] = v[t++];
             }
             ${0!==e?`arrayOffset += ${e};`:""}
         }
     `}function p(a){return(0,m.createUboSyncFunction)(a,"uboWgsl",o,n.uboSyncFunctionsWGSL)}a.s(["generateArraySyncWGSL",()=>o],24962),a.s(["createUboSyncFunctionWGSL",()=>p],32746);class q extends j.UboSystem{constructor(){super({createUboElements:l,generateUboSync:p})}}q.extension={type:[b.ExtensionType.WebGPUSystem],name:"ubo"},a.s(["GpuUboSystem",()=>q],17094)},60070,10216,83125,42357,46080,21097,37367,66612,79416,71703,24857,45732,94813,73400,a=>{"use strict";var b=a.i(44373),c=a.i(42682),d=a.i(10961),e=a.i(52776),f=a.i(45582),g=a.i(74395);class h{constructor(a){this._bindGroupHash=Object.create(null),this._buffers=[],this._bindGroups=[],this._bufferResources=[],this._renderer=a,this._batchBuffer=new f.UboBatch({minUniformOffsetAlignment:128});for(let a=0;a<2;a++){let b=e.BufferUsage.UNIFORM|e.BufferUsage.COPY_DST;0===a&&(b|=e.BufferUsage.COPY_SRC),this._buffers.push(new c.Buffer({data:this._batchBuffer.data,usage:b}))}}renderEnd(){this._uploadBindGroups(),this._resetBindGroups()}_resetBindGroups(){this._bindGroupHash=Object.create(null),this._batchBuffer.clear()}getUniformBindGroup(a,b){if(!b&&this._bindGroupHash[a.uid])return this._bindGroupHash[a.uid];this._renderer.ubo.ensureUniformGroup(a);let c=a.buffer.data,d=this._batchBuffer.addEmptyGroup(c.length);return this._renderer.ubo.syncUniformGroup(a,this._batchBuffer.data,d/4),this._bindGroupHash[a.uid]=this._getBindGroup(d/128),this._bindGroupHash[a.uid]}getUboResource(a){this._renderer.ubo.updateUniformGroup(a);let b=a.buffer.data,c=this._batchBuffer.addGroup(b);return this._getBufferResource(c/128)}getArrayBindGroup(a){let b=this._batchBuffer.addGroup(a);return this._getBindGroup(b/128)}getArrayBufferResource(a){let b=this._batchBuffer.addGroup(a);return this._getBufferResource(b/128)}_getBufferResource(a){if(!this._bufferResources[a]){let b=this._buffers[a%2];this._bufferResources[a]=new d.BufferResource({buffer:b,offset:(a/2|0)*256,size:128})}return this._bufferResources[a]}_getBindGroup(a){if(!this._bindGroups[a]){let b=new g.BindGroup({0:this._getBufferResource(a)});this._bindGroups[a]=b}return this._bindGroups[a]}_uploadBindGroups(){let a=this._renderer.buffer,b=this._buffers[0];b.update(this._batchBuffer.byteIndex),a.updateBuffer(b);let c=this._renderer.gpu.device.createCommandEncoder();for(let d=1;d<this._buffers.length;d++){let e=this._buffers[d];c.copyBufferToBuffer(a.getGPUBuffer(b),128,a.getGPUBuffer(e),0,this._batchBuffer.byteIndex)}this._renderer.gpu.device.queue.submit([c.finish()])}destroy(){for(let a=0;a<this._bindGroups.length;a++)this._bindGroups[a]?.destroy();this._bindGroups=null,this._bindGroupHash=null;for(let a=0;a<this._buffers.length;a++)this._buffers[a].destroy();this._buffers=null;for(let a=0;a<this._bufferResources.length;a++)this._bufferResources[a].destroy();this._bufferResources=null,this._batchBuffer.destroy(),this._renderer=null}}h.extension={type:[b.ExtensionType.WebGPUPipes],name:"uniformBatch"},a.s(["GpuUniformBatchPipe",()=>h],60070);var i=a.i(51983),j=a.i(80783),k=a.i(35990),l=a.i(19973),m=a.i(29477);let n={"point-list":0,"line-list":1,"line-strip":2,"triangle-list":3,"triangle-strip":4};class o{constructor(a){this._moduleCache=Object.create(null),this._bufferLayoutsCache=Object.create(null),this._bindingNamesCache=Object.create(null),this._pipeCache=Object.create(null),this._pipeStateCaches=Object.create(null),this._colorMask=15,this._multisampleCount=1,this._colorTargetCount=1,this._renderer=a}contextChange(a){this._gpu=a,this.setStencilMode(k.STENCIL_MODES.DISABLED),this._updatePipeHash()}setMultisampleCount(a){this._multisampleCount!==a&&(this._multisampleCount=a,this._updatePipeHash())}setRenderTarget(a){this._multisampleCount=a.msaaSamples,this._depthStencilAttachment=+!!a.descriptor.depthStencilAttachment,this._colorTargetCount=a.colorTargetCount,this._updatePipeHash()}setColorMask(a){this._colorMask!==a&&(this._colorMask=a,this._updatePipeHash())}setStencilMode(a){this._stencilMode!==a&&(this._stencilMode=a,this._stencilState=m.GpuStencilModesToPixi[a],this._updatePipeHash())}setPipeline(a,b,c,d){let e=this.getPipeline(a,b,c);d.setPipeline(e)}getPipeline(a,b,c,d){var e,f,g;a._layoutKey||((0,j.ensureAttributes)(a,b.attributeData),this._generateBufferKey(a)),d||(d=a.topology);let h=(e=a._layoutKey,f=b._layoutKey,g=c.data,e<<24|f<<16|g<<10|c._blendModeId<<5|n[d]);return this._pipeCache[h]||(this._pipeCache[h]=this._createPipeline(a,b,c,d)),this._pipeCache[h]}_createPipeline(a,b,c,d){let e=this._gpu.device,f=this._createVertexBufferLayouts(a,b),g=this._renderer.state.getColorTargets(c,this._colorTargetCount),h=this._stencilMode===k.STENCIL_MODES.RENDERING_MASK_ADD?0:this._colorMask;for(let a=0;a<g.length;a++)g[a].writeMask=h;let i=this._renderer.shader.getProgramData(b).pipeline,j={vertex:{module:this._getModule(b.vertex.source),entryPoint:b.vertex.entryPoint,buffers:f},fragment:{module:this._getModule(b.fragment.source),entryPoint:b.fragment.entryPoint,targets:g},primitive:{topology:d,cullMode:c.cullMode},layout:i,multisample:{count:this._multisampleCount},label:"PIXI Pipeline"};return this._depthStencilAttachment&&(j.depthStencil={...this._stencilState,format:"depth24plus-stencil8",depthWriteEnabled:c.depthTest,depthCompare:c.depthTest?"less":"always"}),e.createRenderPipeline(j)}_getModule(a){return this._moduleCache[a]||this._createModule(a)}_createModule(a){let b=this._gpu.device;return this._moduleCache[a]=b.createShaderModule({code:a}),this._moduleCache[a]}_generateBufferKey(a){let b=[],c=0,d=Object.keys(a.attributes).sort();for(let e=0;e<d.length;e++){let f=a.attributes[d[e]];b[c++]=f.offset,b[c++]=f.format,b[c++]=f.stride,b[c++]=f.instance}let e=b.join("|");return a._layoutKey=(0,l.createIdFromString)(e,"geometry"),a._layoutKey}_generateAttributeLocationsKey(a){let b=[],c=0,d=Object.keys(a.attributeData).sort();for(let e=0;e<d.length;e++){let f=a.attributeData[d[e]];b[c++]=f.location}let e=b.join("|");return a._attributeLocationsKey=(0,l.createIdFromString)(e,"programAttributes"),a._attributeLocationsKey}getBufferNamesToBind(a,b){let c=a._layoutKey<<16|b._attributeLocationsKey;if(this._bindingNamesCache[c])return this._bindingNamesCache[c];let d=this._createVertexBufferLayouts(a,b),e=Object.create(null),f=b.attributeData;for(let a=0;a<d.length;a++){let b=Object.values(d[a].attributes)[0].shaderLocation;for(let c in f)if(f[c].location===b){e[a]=c;break}}return this._bindingNamesCache[c]=e,e}_createVertexBufferLayouts(a,b){b._attributeLocationsKey||this._generateAttributeLocationsKey(b);let c=a._layoutKey<<16|b._attributeLocationsKey;if(this._bufferLayoutsCache[c])return this._bufferLayoutsCache[c];let d=[];return a.buffers.forEach(c=>{let e={arrayStride:0,stepMode:"vertex",attributes:[]},f=e.attributes;for(let d in b.attributeData){let g=a.attributes[d];(g.divisor??1)!==1&&(0,i.warn)(`Attribute ${d} has an invalid divisor value of '${g.divisor}'. WebGPU only supports a divisor value of 1`),g.buffer===c&&(e.arrayStride=g.stride,e.stepMode=g.instance?"instance":"vertex",f.push({shaderLocation:b.attributeData[d].location,offset:g.offset,format:g.format}))}f.length&&d.push(e)}),this._bufferLayoutsCache[c]=d,d}_updatePipeHash(){var a,b,c;let d=(a=this._stencilMode,b=this._multisampleCount,c=this._colorMask,c<<8|a<<5|this._depthStencilAttachment<<3|this._colorTargetCount<<1|b);this._pipeStateCaches[d]||(this._pipeStateCaches[d]=Object.create(null)),this._pipeCache=this._pipeStateCaches[d]}destroy(){this._renderer=null,this._bufferLayoutsCache=null}}o.extension={type:[b.ExtensionType.WebGPUSystem],name:"pipeline"},a.s(["PipelineSystem",()=>o],10216);var p=a.i(31741),q=a.i(10091),r=a.i(39238),s=a.i(31394);class t{constructor(){this.contexts=[],this.msaaTextures=[],this.msaaSamples=1}}a.s(["GpuRenderTarget",()=>t],83125);class u{init(a,b){this._renderer=a,this._renderTargetSystem=b}copyToTexture(a,b,c,d,e){let f=this._renderer,g=this._getGpuColorTexture(a),h=f.texture.getGpuSource(b.source);return f.encoder.commandEncoder.copyTextureToTexture({texture:g,origin:c},{texture:h,origin:e},d),b}startRenderPass(a,b=!0,c,d){let e=this._renderTargetSystem.getGpuRenderTarget(a);e.descriptor=this.getDescriptor(a,b,c),this._renderer.pipeline.setRenderTarget(e),this._renderer.encoder.beginRenderPass(e),this._renderer.encoder.setViewport(d)}finishRenderPass(){this._renderer.encoder.endRenderPass()}_getGpuColorTexture(a){let b=this._renderTargetSystem.getGpuRenderTarget(a);return b.contexts[0]?b.contexts[0].getCurrentTexture():this._renderer.texture.getGpuSource(a.colorTextures[0].source)}getDescriptor(a,b,c){let d;"boolean"==typeof b&&(b=b?q.CLEAR.ALL:q.CLEAR.NONE);let e=this._renderTargetSystem,f=e.getGpuRenderTarget(a),g=a.colorTextures.map((a,d)=>{let g,h,i=f.contexts[d];g=i?i.getCurrentTexture().createView():this._renderer.texture.getGpuSource(a).createView({mipLevelCount:1}),f.msaaTextures[d]&&(h=g,g=this._renderer.texture.getTextureView(f.msaaTextures[d]));let j=b&q.CLEAR.COLOR?"clear":"load";return c??(c=e.defaultClearColor),{view:g,resolveTarget:h,clearValue:c,storeOp:"store",loadOp:j}});if((a.stencil||a.depth)&&!a.depthStencilTexture&&(a.ensureDepthStencilTexture(),a.depthStencilTexture.source.sampleCount=f.msaa?4:1),a.depthStencilTexture){let c=b&q.CLEAR.STENCIL?"clear":"load",e=b&q.CLEAR.DEPTH?"clear":"load";d={view:this._renderer.texture.getGpuSource(a.depthStencilTexture.source).createView(),stencilStoreOp:"store",stencilLoadOp:c,depthClearValue:1,depthLoadOp:e,depthStoreOp:"store"}}return{colorAttachments:g,depthStencilAttachment:d}}clear(a,b=!0,c,d){if(!b)return;let{gpu:e,encoder:f}=this._renderer,g=e.device;if(null===f.commandEncoder){let e=g.createCommandEncoder(),f=this.getDescriptor(a,b,c),h=e.beginRenderPass(f);h.setViewport(d.x,d.y,d.width,d.height,0,1),h.end();let i=e.finish();g.queue.submit([i])}else this.startRenderPass(a,b,c,d)}initGpuRenderTarget(a){a.isRoot=!0;let b=new t;return b.colorTargetCount=a.colorTextures.length,a.colorTextures.forEach((a,c)=>{if(a instanceof r.CanvasSource){let d=a.resource.getContext("webgpu"),e=a.transparent?"premultiplied":"opaque";try{d.configure({device:this._renderer.gpu.device,usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC,format:"bgra8unorm",alphaMode:e})}catch(a){console.error(a)}b.contexts[c]=d}if(b.msaa=a.source.antialias,a.source.antialias){let a=new s.TextureSource({width:0,height:0,sampleCount:4});b.msaaTextures[c]=a}}),b.msaa&&(b.msaaSamples=4,a.depthStencilTexture&&(a.depthStencilTexture.source.sampleCount=4)),b}destroyGpuRenderTarget(a){a.contexts.forEach(a=>{a.unconfigure()}),a.msaaTextures.forEach(a=>{a.destroy()}),a.msaaTextures.length=0,a.contexts.length=0}ensureDepthStencilTexture(a){let b=this._renderTargetSystem.getGpuRenderTarget(a);a.depthStencilTexture&&b.msaa&&(a.depthStencilTexture.source.sampleCount=4)}resizeGpuRenderTarget(a){let b=this._renderTargetSystem.getGpuRenderTarget(a);b.width=a.width,b.height=a.height,b.msaa&&a.colorTextures.forEach((a,c)=>{let d=b.msaaTextures[c];d?.resize(a.source.width,a.source.height,a.source._resolution)})}}a.s(["GpuRenderTargetAdaptor",()=>u],42357);class v extends p.RenderTargetSystem{constructor(a){super(a),this.adaptor=new u,this.adaptor.init(a,this)}}v.extension={type:[b.ExtensionType.WebGPUSystem],name:"renderTarget"},a.s(["GpuRenderTargetSystem",()=>v],46080);class w{constructor(){this._gpuProgramData=Object.create(null)}contextChange(a){this._gpu=a}getProgramData(a){return this._gpuProgramData[a._layoutKey]||this._createGPUProgramData(a)}_createGPUProgramData(a){let b=this._gpu.device,c=a.gpuLayout.map(a=>b.createBindGroupLayout({entries:a}));return this._gpuProgramData[a._layoutKey]={bindGroups:c,pipeline:b.createPipelineLayout({bindGroupLayouts:c})},this._gpuProgramData[a._layoutKey]}destroy(){this._gpu=null,this._gpuProgramData=null}}w.extension={type:[b.ExtensionType.WebGPUSystem],name:"shader"},a.s(["GpuShaderSystem",()=>w],21097);var x=a.i(45287);let y={};y.normal={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"}},y.add={alpha:{srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one",operation:"add"}},y.multiply={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"dst",dstFactor:"one-minus-src-alpha",operation:"add"}},y.screen={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src",operation:"add"}},y.overlay={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src",operation:"add"}},y.none={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"zero",dstFactor:"zero",operation:"add"}},y["normal-npm"]={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha",operation:"add"}},y["add-npm"]={alpha:{srcFactor:"one",dstFactor:"one",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one",operation:"add"}},y["screen-npm"]={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one-minus-src",operation:"add"}},y.erase={alpha:{srcFactor:"zero",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"zero",dstFactor:"one-minus-src",operation:"add"}},y.min={alpha:{srcFactor:"one",dstFactor:"one",operation:"min"},color:{srcFactor:"one",dstFactor:"one",operation:"min"}},y.max={alpha:{srcFactor:"one",dstFactor:"one",operation:"max"},color:{srcFactor:"one",dstFactor:"one",operation:"max"}},a.s(["GpuBlendModesToPixi",()=>y],37367);class z{constructor(){this.defaultState=new x.State,this.defaultState.blend=!0}contextChange(a){this.gpu=a}getColorTargets(a,b){let c=y[a.blendMode]||y.normal,d=[],e={format:"bgra8unorm",writeMask:0,blend:c};for(let a=0;a<b;a++)d[a]=e;return d}destroy(){this.gpu=null}}z.extension={type:[b.ExtensionType.WebGPUSystem],name:"state"},a.s(["GpuStateSystem",()=>z],66612);var A=a.i(58422),B=a.i(46629),C=a.i(96335),D=a.i(9124);let E={type:"image",upload(a,b,c){let d=a.resource,e=(0|a.pixelWidth)*(0|a.pixelHeight),f=d.byteLength/e;c.device.queue.writeTexture({texture:b},d,{offset:0,rowsPerImage:a.pixelHeight,bytesPerRow:a.pixelWidth*f},{width:a.pixelWidth,height:a.pixelHeight,depthOrArrayLayers:1})}};a.s(["gpuUploadBufferImageResource",()=>E],79416);let F={"bc1-rgba-unorm":{blockBytes:8,blockWidth:4,blockHeight:4},"bc2-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"bc3-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"bc7-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"etc1-rgb-unorm":{blockBytes:8,blockWidth:4,blockHeight:4},"etc2-rgba8unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"astc-4x4-unorm":{blockBytes:16,blockWidth:4,blockHeight:4}},G={blockBytes:4,blockWidth:1,blockHeight:1},H={type:"compressed",upload(a,b,c){let d=a.pixelWidth,e=a.pixelHeight,f=F[a.format]||G;for(let g=0;g<a.resource.length;g++){let h=a.resource[g],i=Math.ceil(d/f.blockWidth)*f.blockBytes;c.device.queue.writeTexture({texture:b,mipLevel:g},h,{offset:0,bytesPerRow:i},{width:Math.ceil(d/f.blockWidth)*f.blockWidth,height:Math.ceil(e/f.blockHeight)*f.blockHeight,depthOrArrayLayers:1}),d=Math.max(d>>1,1),e=Math.max(e>>1,1)}}};a.s(["blockDataMap",()=>F,"gpuUploadCompressedTextureResource",()=>H],71703);let I={type:"image",upload(a,b,c){let d=a.resource;if(!d)return;if(globalThis.HTMLImageElement&&d instanceof HTMLImageElement){let b=A.DOMAdapter.get().createCanvas(d.width,d.height);b.getContext("2d").drawImage(d,0,0,d.width,d.height),a.resource=b,(0,i.warn)("ImageSource: Image element passed, converting to canvas and replacing resource.")}let e=Math.min(b.width,a.resourceWidth||a.pixelWidth),f=Math.min(b.height,a.resourceHeight||a.pixelHeight),g="premultiply-alpha-on-upload"===a.alphaMode;c.device.queue.copyExternalImageToTexture({source:d},{texture:b,premultipliedAlpha:g},{width:e,height:f})}};a.s(["gpuUploadImageResource",()=>I],24857);let J={type:"video",upload(a,b,c){I.upload(a,b,c)}};a.s(["gpuUploadVideoResource",()=>J],45732);class K{constructor(a){this.device=a,this.sampler=a.createSampler({minFilter:"linear"}),this.pipelines={}}_getMipmapPipeline(a){let b=this.pipelines[a];return b||(this.mipmapShaderModule||(this.mipmapShaderModule=this.device.createShaderModule({code:`
                        var<private> pos : array<vec2<f32>, 3> = array<vec2<f32>, 3>(
                        vec2<f32>(-1.0, -1.0), vec2<f32>(-1.0, 3.0), vec2<f32>(3.0, -1.0));

                        struct VertexOutput {
                        @builtin(position) position : vec4<f32>,
                        @location(0) texCoord : vec2<f32>,
                        };

                        @vertex
                        fn vertexMain(@builtin(vertex_index) vertexIndex : u32) -> VertexOutput {
                        var output : VertexOutput;
                        output.texCoord = pos[vertexIndex] * vec2<f32>(0.5, -0.5) + vec2<f32>(0.5);
                        output.position = vec4<f32>(pos[vertexIndex], 0.0, 1.0);
                        return output;
                        }

                        @group(0) @binding(0) var imgSampler : sampler;
                        @group(0) @binding(1) var img : texture_2d<f32>;

                        @fragment
                        fn fragmentMain(@location(0) texCoord : vec2<f32>) -> @location(0) vec4<f32> {
                        return textureSample(img, imgSampler, texCoord);
                        }
                    `})),b=this.device.createRenderPipeline({layout:"auto",vertex:{module:this.mipmapShaderModule,entryPoint:"vertexMain"},fragment:{module:this.mipmapShaderModule,entryPoint:"fragmentMain",targets:[{format:a}]}}),this.pipelines[a]=b),b}generateMipmap(a){let b=this._getMipmapPipeline(a.format);if("3d"===a.dimension||"1d"===a.dimension)throw Error("Generating mipmaps for non-2d textures is currently unsupported!");let c=a,d=a.depthOrArrayLayers||1,e=a.usage&GPUTextureUsage.RENDER_ATTACHMENT;if(!e){let b={size:{width:Math.ceil(a.width/2),height:Math.ceil(a.height/2),depthOrArrayLayers:d},format:a.format,usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_SRC|GPUTextureUsage.RENDER_ATTACHMENT,mipLevelCount:a.mipLevelCount-1};c=this.device.createTexture(b)}let f=this.device.createCommandEncoder({}),g=b.getBindGroupLayout(0);for(let h=0;h<d;++h){let d=a.createView({baseMipLevel:0,mipLevelCount:1,dimension:"2d",baseArrayLayer:h,arrayLayerCount:1}),i=+!!e;for(let e=1;e<a.mipLevelCount;++e){let a=c.createView({baseMipLevel:i++,mipLevelCount:1,dimension:"2d",baseArrayLayer:h,arrayLayerCount:1}),e=f.beginRenderPass({colorAttachments:[{view:a,storeOp:"store",loadOp:"clear",clearValue:{r:0,g:0,b:0,a:0}}]}),j=this.device.createBindGroup({layout:g,entries:[{binding:0,resource:this.sampler},{binding:1,resource:d}]});e.setPipeline(b),e.setBindGroup(0,j),e.draw(3,1,0,0),e.end(),d=a}}if(!e){let b={width:Math.ceil(a.width/2),height:Math.ceil(a.height/2),depthOrArrayLayers:d};for(let d=1;d<a.mipLevelCount;++d)f.copyTextureToTexture({texture:c,mipLevel:d-1},{texture:a,mipLevel:d},b),b.width=Math.ceil(b.width/2),b.height=Math.ceil(b.height/2)}return this.device.queue.submit([f.finish()]),e||c.destroy(),a}}a.s(["GpuMipmapGenerator",()=>K],94813);class L{constructor(a){this.textureView=null,this.gpuTexture=a}destroy(){this.gpuTexture.destroy(),this.textureView=null,this.gpuTexture=null}}class M{constructor(a){this._gpuSamplers=Object.create(null),this._bindGroupHash=Object.create(null),this._uploads={image:I,buffer:E,video:J,compressed:H},this._renderer=a,a.renderableGC.addManagedHash(this,"_bindGroupHash"),this._managedTextures=new B.GCManagedHash({renderer:a,type:"resource",onUnload:this.onSourceUnload.bind(this),name:"gpuTextureSource"})}get managedTextures(){return Object.values(this._managedTextures.items)}contextChange(a){this._gpu=a}initSource(a){return a._gpuData[this._renderer.uid]?.gpuTexture||this._initSource(a)}_initSource(a){if(a.autoGenerateMipmaps){let b=Math.max(a.pixelWidth,a.pixelHeight);a.mipLevelCount=Math.floor(Math.log2(b))+1}let b=GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST;"compressed"!==a.uploadMethodId&&(b|=GPUTextureUsage.RENDER_ATTACHMENT,b|=GPUTextureUsage.COPY_SRC);let c=F[a.format]||{blockBytes:4,blockWidth:1,blockHeight:1},d=Math.ceil(a.pixelWidth/c.blockWidth)*c.blockWidth,e=Math.ceil(a.pixelHeight/c.blockHeight)*c.blockHeight,f={label:a.label,size:{width:d,height:e},format:a.format,sampleCount:a.sampleCount,mipLevelCount:a.mipLevelCount,dimension:a.dimension,usage:b},g=this._gpu.device.createTexture(f);return a._gpuData[this._renderer.uid]=new L(g),this._managedTextures.add(a)&&(a.on("update",this.onSourceUpdate,this),a.on("resize",this.onSourceResize,this),a.on("updateMipmaps",this.onUpdateMipmaps,this)),this.onSourceUpdate(a),g}onSourceUpdate(a){let b=this.getGpuSource(a);b&&(this._uploads[a.uploadMethodId]&&this._uploads[a.uploadMethodId].upload(a,b,this._gpu),a.autoGenerateMipmaps&&a.mipLevelCount>1&&this.onUpdateMipmaps(a))}onUpdateMipmaps(a){this._mipmapGenerator||(this._mipmapGenerator=new K(this._gpu.device));let b=this.getGpuSource(a);this._mipmapGenerator.generateMipmap(b)}onSourceUnload(a){a.off("update",this.onSourceUpdate,this),a.off("resize",this.onSourceResize,this),a.off("updateMipmaps",this.onUpdateMipmaps,this)}onSourceResize(a){a._gcLastUsed=this._renderer.gc.now;let b=a._gpuData[this._renderer.uid],c=b?.gpuTexture;c?(c.width!==a.pixelWidth||c.height!==a.pixelHeight)&&(b.destroy(),this._bindGroupHash[a.uid]=null,a._gpuData[this._renderer.uid]=null,this.initSource(a)):this.initSource(a)}_initSampler(a){return this._gpuSamplers[a._resourceId]=this._gpu.device.createSampler(a),this._gpuSamplers[a._resourceId]}getGpuSampler(a){return this._gpuSamplers[a._resourceId]||this._initSampler(a)}getGpuSource(a){return a._gcLastUsed=this._renderer.gc.now,a._gpuData[this._renderer.uid]?.gpuTexture||this.initSource(a)}getTextureBindGroup(a){return this._bindGroupHash[a.uid]||this._createTextureBindGroup(a)}_createTextureBindGroup(a){let b=a.source;return this._bindGroupHash[a.uid]=new g.BindGroup({0:b,1:b.style,2:new C.UniformGroup({uTextureMatrix:{type:"mat3x3<f32>",value:a.textureMatrix.mapCoord}})}),this._bindGroupHash[a.uid]}getTextureView(a){let b=a.source;b._gcLastUsed=this._renderer.gc.now;let c=b._gpuData[this._renderer.uid];return c||(this.initSource(b),c=b._gpuData[this._renderer.uid]),c.textureView||c.gpuTexture.createView()}generateCanvas(a){let b=this._renderer,c=b.gpu.device.createCommandEncoder(),d=A.DOMAdapter.get().createCanvas();d.width=a.source.pixelWidth,d.height=a.source.pixelHeight;let e=d.getContext("webgpu");return e.configure({device:b.gpu.device,usage:GPUTextureUsage.COPY_DST|GPUTextureUsage.COPY_SRC,format:A.DOMAdapter.get().getNavigator().gpu.getPreferredCanvasFormat(),alphaMode:"premultiplied"}),c.copyTextureToTexture({texture:b.texture.getGpuSource(a.source),origin:{x:0,y:0}},{texture:e.getCurrentTexture()},{width:d.width,height:d.height}),b.gpu.device.queue.submit([c.finish()]),d}getPixels(a){let b=this.generateCanvas(a),c=D.CanvasPool.getOptimalCanvasAndContext(b.width,b.height),d=c.context;d.drawImage(b,0,0);let{width:e,height:f}=b,g=new Uint8ClampedArray(d.getImageData(0,0,e,f).data.buffer);return D.CanvasPool.returnCanvasAndContext(c),{pixels:g,width:e,height:f}}destroy(){for(let a of(this._managedTextures.destroy(),Object.keys(this._bindGroupHash))){let b=Number(a),c=this._bindGroupHash[b];c?.destroy()}this._renderer=null,this._gpu=null,this._mipmapGenerator=null,this._gpuSamplers=null,this._bindGroupHash=null}}M.extension={type:[b.ExtensionType.WebGPUSystem],name:"texture"},a.s(["GPUTextureGpuData",()=>L,"GpuTextureSystem",()=>M],73400)},88804,13820,a=>{"use strict";var b=a.i(44373),c=a.i(67309),d=a.i(2780),e=a.i(35235),f=a.i(10232),g=a.i(28012),h=a.i(77686),i=a.i(586),j=a.i(56312),k=a.i(96335);class l{constructor(){this._maxTextures=0}contextChange(a){let b=new k.UniformGroup({uTransformMatrix:{value:new c.Matrix,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}});this._maxTextures=a.limits.maxBatchableTextures;let d=(0,e.compileHighShaderGpuProgram)({name:"graphics",bits:[f.colorBit,(0,g.generateTextureBatchBit)(this._maxTextures),h.localUniformBitGroup2,i.roundPixelsBit]});this.shader=new j.Shader({gpuProgram:d,resources:{localUniforms:b}})}execute(a,b){let c=b.context,e=c.customShader||this.shader,f=a.renderer,{batcher:g,instructions:h}=f.graphicsContext.getContextRenderData(c),i=f.encoder;i.setGeometry(g.geometry,e.gpuProgram);let j=f.globalUniforms.bindGroup;i.setBindGroup(0,j,e.gpuProgram);let k=f.renderPipes.uniformBatch.getUniformBindGroup(e.resources.localUniforms,!0);i.setBindGroup(2,k,e.gpuProgram);let l=h.instructions,m=null;for(let b=0;b<h.instructionSize;b++){let c=l[b];if(c.topology!==m&&(m=c.topology,i.setPipelineFromGeometryProgramAndState(g.geometry,e.gpuProgram,a.state,c.topology)),e.groups[1]=c.bindGroup,!c.gpuBindGroup){let a=c.textures;c.bindGroup=(0,d.getTextureBatchBindGroup)(a.textures,a.count,this._maxTextures),c.gpuBindGroup=f.bindGroup.getBindGroup(c.bindGroup,e.gpuProgram,1)}i.setBindGroup(1,c.bindGroup,e.gpuProgram),i.renderPassEncoder.drawIndexed(c.size,1,c.start)}}destroy(){this.shader.destroy(!0),this.shader=null}}l.extension={type:[b.ExtensionType.WebGPUPipesAdaptor],name:"graphics"},a.s(["GpuGraphicsAdaptor",()=>l],88804);var m=a.i(84239),n=a.i(71805),o=a.i(51983);class p{init(){let a=(0,e.compileHighShaderGpuProgram)({name:"mesh",bits:[h.localUniformBit,m.textureBit,i.roundPixelsBit]});this._shader=new j.Shader({gpuProgram:a,resources:{uTexture:n.Texture.EMPTY._source,uSampler:n.Texture.EMPTY._source.style,textureUniforms:{uTextureMatrix:{type:"mat3x3<f32>",value:new c.Matrix}}}})}execute(a,b){let c=a.renderer,d=b._shader;if(d){if(!d.gpuProgram)return void(0,o.warn)("Mesh shader has no gpuProgram",b.shader)}else(d=this._shader).groups[2]=c.texture.getTextureBindGroup(b.texture);let e=d.gpuProgram;if(e.autoAssignGlobalUniforms&&(d.groups[0]=c.globalUniforms.bindGroup),e.autoAssignLocalUniforms){let b=a.localUniforms;d.groups[1]=c.renderPipes.uniformBatch.getUniformBindGroup(b,!0)}c.encoder.draw({geometry:b._geometry,shader:d,state:b.state})}destroy(){this._shader.destroy(!0),this._shader=null}}p.extension={type:[b.ExtensionType.WebGPUPipesAdaptor],name:"mesh"},a.s(["GpuMeshAdapter",()=>p],13820)},69506,a=>{"use strict";var b=a.i(44373),c=a.i(88804),d=a.i(13820),e=a.i(89762),f=a.i(67663),g=a.i(33057),h=a.i(53507),i=a.i(49391),j=a.i(20206),k=a.i(66765),l=a.i(50389),m=a.i(3775),n=a.i(40973),o=a.i(2487),p=a.i(17094),q=a.i(60070),r=a.i(10216),s=a.i(46080),t=a.i(21097),u=a.i(66612),v=a.i(73400);let w=[...g.SharedSystems,p.GpuUboSystem,m.GpuEncoderSystem,l.GpuDeviceSystem,n.GpuLimitsSystem,j.GpuBufferSystem,v.GpuTextureSystem,s.GpuRenderTargetSystem,t.GpuShaderSystem,u.GpuStateSystem,r.PipelineSystem,k.GpuColorMaskSystem,o.GpuStencilSystem,i.BindGroupSystem],x=[...g.SharedRenderPipes,q.GpuUniformBatchPipe],y=[e.GpuBatchAdaptor,d.GpuMeshAdapter,c.GpuGraphicsAdaptor],z=[],A=[],B=[];b.extensions.handleByNamedList(b.ExtensionType.WebGPUSystem,z),b.extensions.handleByNamedList(b.ExtensionType.WebGPUPipes,A),b.extensions.handleByNamedList(b.ExtensionType.WebGPUPipesAdaptor,B),b.extensions.add(...w,...x,...y);class C extends f.AbstractRenderer{constructor(){super({name:"webgpu",type:h.RendererType.WEBGPU,systems:z,renderPipes:A,renderPipeAdaptors:B})}}a.s(["WebGPURenderer",()=>C])}];

//# sourceMappingURL=node_modules_pixi_js_lib_2398c8b9._.js.map